<!doctype html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mirco Golutti mirco.golutti@gmail.com">
    
    <title><%= title %></title>

    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="css/project/project.css" rel="stylesheet">
    <link href="css/bootstrap/cover.css" rel="stylesheet">
</head>

<body class="d-flex h-100 text-center text-bg-dark">

    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="mb-auto">
            <div>
                <h3 class="float-md-start mb-0">Leonardo</h3>
                <nav class="nav nav-masthead justify-content-center float-md-end">
                    <a class="nav-link fw-bold py-1 px-0" aria-current="page" href="/">Home</a>
                    <a class="nav-link fw-bold py-1 px-0" href="/viewCalendar">Calendar</a>
                    <a class="nav-link fw-bold py-1 px-0 active" href="/viewAllEvents">ViewAllEvents</a>
                    <a class="nav-link fw-bold py-1 px-0" href="/admin">Admin</a>                   
                </nav>                
            </div>
        </header>

        <main class="px-3">
            <% if (allEvents.length > 0) {%>
            <h2>Events </h2>
            <p></p>
            <table id="dataTablesEvents" class="table table-dark table-hover table-responsive-sm">
                <thead class="table-light">
                    <tr>
                        <th scope="col">Name Event</th>
                        <th scope="col">Image</th>
                        <th scope="col">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    <% allEvents.forEach((event, index) => { %>
                    <tr>
                        <th scope="row"> 
                            <a href="/viewModifyEvent?id=<%= event._id %>" style="color:white;">
                                <%= event.name_event %> 
                            </a>
                        </th>
                        <td> 
                            <img src="images/<%= event.img_name %>" class="img-fluid img-view-all-event"  alt="..." ></img>
                        </td>
                        <td> 
                            <form method="post" action="/deleteEvent">
                                <input type="hidden" class="form-control" name="_id" value="<%= event._id%>">
                                <button type="submit" class="btn"><img src="images/delete.png" class="img-fluid img-delete"  alt="..." ></img></button>
                            </form>
                            <!--<a href="/deleteEvent?id=<%= event._id %>" style="color:white;">
                                <img src="images/delete.png" class="img-fluid img-delete"  alt="..." ></img>
                            </a> -->
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
            <% } else { %>
            <p class="text-center">No Events</p>
            <% } %>
			<a href="/viewAddEvent" style="color:white;">
                Add
            </a>

        </main>

        <footer class="mt-auto text-white-50">
            <p>Created by Mirco Golutti </p>
        </footer>
    </div>


    <script src="js/jquery/jquery-3.6.1.min.js"></script>
    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>

</body>
</html>